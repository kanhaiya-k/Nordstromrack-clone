<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="./products.css">
    <link rel="shortcut icon" href="./img/fevicon.png" />

    <title>Nordstrom Rack: Shop Clothes, Shoes, Jewelry, Beauty and Home</title>
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />
</head>
<body>

    <div id="nav">
        <div class="leftbox">
            <ul>
                <li><img width="80px;" src="./img/logo.svg" alt=""></li>
                
            </ul>
        </div>
        <div class="rightbox">
            <ul>
                <li>
                  <i class="fa fa-search">Search</i>
                  
  
                </li>
                <li>
                  <a href="./signin.html">Sign in</a>
                </li>
                <li>
                    <i class="fas fa-shopping-bag"></i>
                    <a href=""></a>
                </li>
            </ul>
        </div>
  
        <div class="nav">
          <a style="color: red" href=""><i class="fas fa-gift">Holiday Gifts</i></a>
          <a href="./product.html">Women</a>
          <a href="">Men</a>
          <a href="">Kids</a>
          <a href="">Shoes</a><a href="">Bags & Accessories</a
          ><a href="./index.html">Home</a><a href="">Beauty</a
          ><a href="">Clearance</a
          ><a style="color: #00819d" href="">Flash Events</a>
        </div>
    
  
<!-- Filter  -->
<div class="filter">
  <select id="sortings" onchange="handleSorting()">
    <option value="">SORT BY</option>
    <option value="high">Recommended</option>
    <option value="low">Newest</option>
    <option value="low">Lowest Price</option>
    <option value="high">Highest Price</option>
  </select>

  

  <!-- Size -->

  <select id="sortings" onchange="handleSorting()">
    <option value="">Size</option>
    <option value="high">S</option>
    <option value="high">M</option>
    <option value="high">X</option>
    <option value="high">XL</option>
    <option value="high">XXL</option>
  </select>

  <!-- Colour -->

  <select id="sortings" onchange="handleColor(value)">
    <option value="">COLOUR</option>
    <option value="#272628">Black</option>
    <option value="#97a1b0">Blues</option>
    <option value="#582b34">Red</option>
    <option value="#e4ded8">Beige</option>
    <option value="#d8ceac">Yellow</option>
    <option value="#cec7cb">Purple</option>
    <option value="#a2a4a6">Grey</option>
  </select>

</div>

<!-- Left side menu list -->

<!-- New Arrivals -->

<div class="leftside">
  <div class="newArrival">
    <h4><a href="#">Dresses</a></h4>
    <ul>
      <li><a href="">Cocktail & Party</a></li>
      <li><a href="">Casual</a></li>
      <li><a href="">Daytime & Sundresses</a></li>
      <li><a href="">Formal</a></li>
      <li><a href="">Going Out</a></li>
      <li><a href="">Long Sleeve</a></li>
      <li><a href="">Maxi</a></li>
      <li><a href="">Midi</a></li>
      <li><a href="">Mini</a></li>
      <li><a href="">Shirt Dresses</a></li>
      <li><a href="">Short Sleeve</a></li>
      <li><a href="">Sweater</a></li>
      <li><a href="">Work</a></li>
      <li><a href="">Wrap</a></li>
      <li><a href="">Floral</a></li>
    </ul>
  </div>

  <!-- Trending Now -->

  <div class="newArrival">
    <h4><a href="#">Featured</a></h4>
    <ul>
      <li><a href="">Dresses Under $50</a></li>
      <li><a href="">Dresses Under $150</a></li>
      
    </ul>
  </div>

  <!-- Deals -->

  <div class="newArrival">
    <h4><a href="#">Deals</a></h4>
    <ul>
      <li><a href="">Socks - Buy 2 get 1 free!</a></li>
    </ul>
  </div>

  <!-- Shop by Product -->

  <div class="newArrival">
    <h4><a href="#">Size</a></h4>
    <ul>
      <li><a href="">00, XXS</a></li>
      <li><a href="">00, XXS</a></li>
      <li><a href="">00, XXM</a></li>
      <li><a href="">00, XXL</a></li>
      <li><a href="">00, XLS</a></li>
      
    </ul>
  </div>

  <!-- Sustainability -->

  
  <!-- Magazine -->

  
</div>
<div id="display"></div>

    
 
<div class="footer">
  <div class="details">
      <div class="first">
          <h3>Customer Service</h3>
          <ul>
              <li><a href="#">Order Status</a></li>
              <li><a href="#">Guest Returns</a></li>
              <li><a href="#">Shipping & Return Policy</a></li>
              <li><a href="#">Gift Cards</a></li>
              <li><a href="#">FAQ</a></li>
              <li><a href="#">Contact Us</a></li>
              <li><a href="">Nordstrom Blog</a></li>
          </ul>
      </div>
      <div class="first">
          <h3>About Us</h3>
          <ul>
              <li><a href="#">About Our Brand</a></li>
              <li><a href="#">The Nordy Club</a></li>
              <li><a href="#">Store Locator</a></li>
              <li><a href="#">All Brands</a></li>
              <li><a href="#">Careers</a></li>
              <li><a href="#">Get Email Updates</a></li>
              <li><a href="">Nordstrom Blog</a></li>
          </ul>
      </div>
      <div class="first">
          <h3>Nordstrom Rack & The Community</h3>
          <ul>
              <li><a href="#">Corporate Social Responsibility</a></li>
              <li><a href="#">Diversity, Inclusion & Belonging</a></li>
              <li><a href="#">Big Brothers Big Sisters</a></li>
              <li><a href="#">Donate Clothes</a></li>
              
          </ul>
      </div>
      <div class="first">
          <h3>Nordstrom Card</h3>
          <ul>
              <li><a href="#">Apply for a Nordstrom Card</a></li>
              <li><a href="#">Pay My Bill</a></li>
              <li><a href="#">Manage my Nordstrom Card</a></li>
              
          </ul>
      </div>
      <div class="first">
          <h3>Nordstrom, Inc.</h3>
          <ul>
              <li><a href="#">Nordstrom</a></li>
              <li><a href="#">Nordstrom Canada</a></li>
              <li><a href="#">Trunk Club</a></li>
              <li><a href="#">HauteLook</a></li>
              <li><a href="#">Investor Relations</a></li>
              <li><a href="#">Press Releases</a></li>
              
          </ul>
      </div>


      
      

</body>
</html>

<script>

   
let div = document.getElementById("display");

async function fetchProductDetails() {
  let response = await fetch("./product.json");

  let allproducts = await response.json();

  

  let data = allproducts.clothing;
  showProduct(data);
}
fetchProductDetails();

function showProduct(data) {
  data.forEach(function (item) {
    

    let divison = document.createElement("div");
    
    let img = document.createElement("img");
    img.src = item.imageA;
    img.setAttribute("class", "productImage");
    img.addEventListener("mouseover", function addEffect() {
      img.src = item.imageB;
    });
    img.addEventListener("mouseleave", function () {
      img.src = item.imageA;
    });

    let anchor = document.createElement("p");
    anchor.setAttribute("class", "product_item_title");
    anchor.addEventListener("click", function () {
      
      // console.log(item.id);
      localStorage.setItem("sibleProduct", JSON.stringify(item.id));
      window.location.assign("./cart.html");
    });
    anchor.textContent = item.title;

    let p = document.createElement("p");
    p.textContent = `Price ${item.price}`;

    let newarrival = document.createElement("newarrival");
    newarrival.setAttribute("class", "newarrival");
    newarrival.textContent = ` ${item.fashionChoice}`;

    divison.append(img, anchor, p, newarrival);

    div.append(divison);
  });
}

var allproducts

async function handleSorting() {
  let val = document.getElementById("sortings").value;
  div.innerHTML = null;
  let response = await fetch("./product.json");

  allproducts = await response.json();

  

  let data = allproducts.clothing;

  if (val == "low") {
    data.sort(function (a, b) {
      return a.price - b.price;
    });
    showProduct(data);
  } else if (val == "high") {
    data.sort(function (a, b) {
      return b.price - a.price;
    });

    showProduct(data);
  } else {
    showProduct(data);
  }
}

async function handleColor(color) {
  console.log(color)
  div.innerHTML = null;

  if (allproducts) {
    let element = allproducts.clothing;
    let data = element.filter((el) => {
      let flag = false;
      el.swatches.forEach(ele => {
        if (ele.colorCode === color) {
          flag = true
        }
      })
      if (flag) {
        return el
      } else {
        return null
      }
    })
    showProduct(data);
  } else {
    let response = await fetch("./product.json");
    allproducts = await response.json();
    let element = allproducts.clothing;
    let data = element.filter((el) => {
      let flag = false;
      el.swatches.forEach(ele => {
        if (ele.colorCode === color) {
          flag = true
        }
      })
      if (flag) {
        return el
      } else {
        return null
      }
    })
    showProduct(data);
  }
}




  </script>
